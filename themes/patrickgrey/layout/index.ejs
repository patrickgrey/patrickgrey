    <a class="pg-accessible-hide-visual" href="#posts">Jump to posts</a>

    <%- partial('_partial/about', {class_name: 'pg-about'}) %>

    <div class="pg-posts" id="posts">
        
                        
        <h1 class="pg-blog-list-title" id="blog">Blog</h1>

        <div class="pg-search-posts-container">
            <label for="pgSearchPosts">Search posts:</label>
            <input id="pgSearchPosts" type="text" placeholder="Search posts" v-model="search">
        </div>

        <div class="pg-posts-container-no-search" v-if="!search">
            <p>No search</p>
            <% site.posts.sort('date', -1).limit(100).each(function(post){ %>
                <div class="pg-post">
                    <h2 class="pg-post-title"><a class="pg-post-goto-link" href="<%- url_for(post.path) %>"><%= post.title || '(no title)' %></a></h2>
                    <p class="pg-post-date"><%= post.date.format('dddd, Do MMMM YYYY') || 'no date provided' %></p>
                    
                </div>
            <% }) %>
        </div>

        <div class="pg-posts-container-search" v-else>
            <p>Is searching</p>
            <div class="pg-post" v-for="post in filteredList">
                    <h2 class="pg-post-title"><a class="pg-post-goto-link" :href="post.slug">{{ post.title }}</a></h2>
                    <p class="pg-post-date">{{ post.date | moment }}</p>
                    
            </div>
        </div>

        <a class="pg-goto-top" href="#blog">^ Go to top</a>


    </div> <!-- pg-posts -->

    <%- js('scripts/vue.js') %>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    
    <script>
        var allPosts = {"posts": [
            <% site.posts.sort('date', -1).each(function(post){ %>
                {title: "<%= post.title %>", slug: "<%= post.slug %>", date: "<%= post.date %>" },
            <% }) %>      
        ]};

        var app = new Vue({
            el: '#posts',
            data: {
                search: '',
                posts: allPosts.posts
            },
            filters: {
                moment: function (date) {
                    return moment(date).format('dddd, Do MMMM YYYY');
                }
            },
            computed: {
                filteredList() {
                    return this.posts.filter(post => {
                        return post.title.toLowerCase().includes(this.search.toLowerCase())
                    })
                }
            }
        })
    </script>

